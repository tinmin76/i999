function mozCatalogCart(){this.initAddToCartButtons()}function reinitMozCatalogCartActions(){new mozCatalogCart}mozCatalogCart.prototype.initAddToCartButtons=function(){var t=this,a=null;$(".moze-add-to-cart.moze-added-to-cart").attr("href","javascript:;").off(),$(".moze-add-to-cart:not(.moze-added-to-cart)").each((function(){var o=$(this).parents(".cat-thumb");if(1==o.length){var i=o.attr("data-cat-item-id");if(void 0===i||i<1)return null;if("undefined"==typeof mozCatItems)return null;var e=null;if($.each(mozCatItems,(function(t,a){if(a.id==i)return t,e=a,!1})),!e)return null;var r=null===e.stock||e.stock>0;e.stock;r?$(this).attr("href","javascript:;").html(mozLocalization.cmCatalogCartAdd):$(this).attr("href",$(o).attr("data-cat-item-link")).html(mozLocalization.cmCatalogCartView),$(this).off(),r&&$(this).on("click",(function(){var o,i=$(this),r=$(i).parents(".cat-thumb[data-cat-item-link]");o=function(){new mozLive3({source:{name:"maincatalog",superglobal:1},action:"catalog-add-to-cart",parameters:{cat_item_id:e.id,cat_item_variant_id:0,cat_item_variant_text:"",country:a},response:{html:[{name:"maincatalogcartside",target:"#shopbar-sidecart-base"}]},errors:{maintenance:mozLocalization.erInMaintenanceMode},onComplete:function(){initCart(),$(".shopbar-cart").is(":visible")&&!$("#shopbar-sidecart").is(":visible")&&$(".shopbar-cart").first().trigger("click"),syncCartToLocalStorage(),$(i).addClass("moze-added-to-cart").html(mozLocalization.cmCatalogCartAdded);var a=r.attr("data-cat-item-link");a&&$(i).off("click").attr("href",a),void 0!==e.pixel&&(t.gtagAddToCart(e.pixel.id,e.pixel.name,e.pixel.brand,e.pixel.category,e.pixel.currency,e.pixel.price,1),t.fbqAddToCart(e.pixel.id,e.pixel.currency,e.pixel.price,1))}})},null==a?$.ajax({url:"https://www.mozello.com/apps/geo/",success:function(t){a=t.country,o()}}):o()}))}}))},mozCatalogCart.prototype.gtagAddToCart=function(t,a,o,i,e,r,n){"function"==typeof gtag&&gtag("event","add_to_cart",{currency:e,items:[{id:t,name:a,brand:o,category:i,price:r,quantity:n}],value:r*n})},mozCatalogCart.prototype.fbqAddToCart=function(t,a,o,i){"function"==typeof fbq&&fbq("track","AddToCart",{content_ids:[t],content_type:"product",contents:[{id:t,quantity:i}],currency:a,value:o*i})},$(document).ready((function(){reinitMozCatalogCartActions()}));