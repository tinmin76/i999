function isTouchDevice(){return"ontouchstart"in window}function isSmallScreen(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return e<=750||t<=500}function isSmallTouchDevice(){return isTouchDevice()&&isSmallScreen()}function isMobileDevice(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/IEMobile/i))}function isIE(){return!!(window.navigator.userAgent.indexOf("MSIE")>0||navigator.userAgent.match(/Trident\/7\./))}function initializeEmbedMap(e,t){var a=e.data("query"),o=e.data("zoom");a&&""!=a||(a=e.data("lat")+","+e.data("lng"));var n="https://www.google.com/maps/embed/v1/place?key=AIzaSyCbQd3r9wS61hmQYZrv4ZdbDJo2Q0h3k7g&q="+a+"&zoom="+o+"&language="+t;map=$('<iframe frameborder="0" style="border:0" allowfullscreen>'),map.addClass("moze-maps"),map.css("height",e.css("height")),map.css("width",e.css("width")),map.attr("src",n),e.replaceWith(map)}function loadInlineSvg(e){jQuery(e).each((function(){var e=jQuery(this),t=e.attr("id"),a=e.attr("class"),o=e.attr("src");jQuery.get(o,(function(o){var n=jQuery(o).find("svg");void 0!==t&&(n=n.attr("id",t)),void 0!==a&&(n=n.attr("class",a+" replaced-svg")),n=n.removeAttr("xmlns:a"),e.replaceWith(n)}),"xml")}))}function isCssVariableSet(e){var t=window.getComputedStyle(document.body).getPropertyValue(e);return t&&"undefined"!==t}function setCssVariable(e,t,a){window.getComputedStyle(document.body).getPropertyValue(e);isCssVariableSet(e)&&!a||document.body.style.setProperty(e,t)}function injectCssCode(e,t,a){if(a){$("#"+a).remove();var o='<style id="'+a+'">'}else o="<style>";t&&(o=o+t+" {"),o+=e,t&&(o+="}"),o+="</style>",$("head").append(o)}function colorToHex(e){function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}return"transparent"==e||!1===e?"#FFFFFF":-1==e.search("rgb")?e:null==(e=e.match(/^rgb(?:a)?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/))||e.length>4&&"0"==e[4]?"#FFFFFF":"#"+t(e[1])+t(e[2])+t(e[3])}function getColorOpacity(e){return"transparent"==e||!1===e?0:-1==e.search("rgb")?1:null!=(e=e.match(/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/))?e[4]:1}function getElementColor(e,t){if(colortype=t||"background-color",e.length){var a=e.css(colortype);if(getColorOpacity(a)>0)return a}return!1}function isGoodContrast(e,t){return Math.abs(getColorLightness(e)-getColorLightness(t))>70}function getColorLightness(e){return"#"==e.charAt(0)&&(e=e.substr(1,6),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3)}function getDirectHeaderBackground(){var e=getElementColor($("#header"));return e||(e=getElementColor($("#header").parents("#top"))),$("body").hasClass("transparent-header")||(e||(e=getElementColor($("#header").parents("#wrap"))),e||(e=getElementColor($("body"))),e||(e="#FFFFFF")),e}function getDirectMenuBackground(){var e=getElementColor($("#menu > ul"));return e||(e=getElementColor($("#menu"))),e||(e=getElementColor($("#menubox"))),e}function colorSchemeUpdated(){$("#bigbar-overlay").length&&$(".overlay-with-buttons").length&&$("#header").length&&(!getElementColor($("#bigbar-overlay"))&&$("#bigbar-overlay").outerWidth()<$("#header").outerWidth()-200?$("#bigbar-overlay").css("padding-left","0").css("padding-right","0"):$("#bigbar-overlay").css("padding-left","").css("padding-right","")),initFixedMenuColors()}function menuAddOpenerLogic(e,t){t.on("click",(function(){$(".sliding-panel").hide().removeClass("visible"),$(e).css("top",$("body").css("margin-top")),$(e).removeClass("visible"),$(e).show(),setTimeout((function(){$(e).addClass("visible")}),5)}))}function menuAddCloseLogic(e,t){var a=$('<li><a><img src="'+FRONTEND_CDN+'/designs/_shared/css/icons/icon-close.svg" alt=""></a></li>');a.addClass("mobile-menu-closer"),$(t).prepend(a),a.on("click",(function(){$(e).hide()}))}function menuMakeFoldable(e){var t=$('<span><img src="'+FRONTEND_CDN+'/designs/_shared/css/icons/icon-unfold.svg" alt=""></span>').addClass("mobile-menu-arrow").addClass("unfold"),a=$('<span><img src="'+FRONTEND_CDN+'/designs/_shared/css/icons/icon-fold.svg" alt=""></span>').addClass("mobile-menu-arrow").addClass("fold");t.on("click",(function(e){e.preventDefault(),$(this).parent().parent().addClass("expanded")})),a.on("click",(function(e){e.preventDefault(),$(this).parent().parent().removeClass("expanded")})),$(e+" > ul > li > a").each((function(e){$(this).siblings("ul").length&&($(this).append(t.clone(!0,!0)),$(this).append(a.clone(!0,!0)))})),$(e+" ul li.selected").each((function(e){0==$(this).find(".selected").length&&$(this).addClass("current-item")}))}function enableCascadingMenuTouch(){$("#menu ul li a").on("touchend",(function(e){var t=$(this).parent().children("ul");!$("body").hasClass("mobile-header")&&t.length&&(t.hasClass("touch-opened")||(e.preventDefault(),$("#menu ul ul").css("display","").removeClass("touch-opened"),$(this).parents("#menu ul ul").show().addClass("touch-opened"),t.show().addClass("touch-opened")))})),$(document).on("touchstart",(function(e){$(e.target).parents("#menu > ul").length||$("#menu ul ul").css("display","").removeClass("touch-opened")}))}function createMobileMenu(){var e=$("#menu ul").length>0,t=$("#languages ul").length>0,a=$('<div id="languages-opener"><img src="'+FRONTEND_CDN+'/designs/_shared/css/icons/icon-globe.svg" alt=""></div>');a.addClass("mobile-menu-opener"),$("#header").append(a),t?(menuAddOpenerLogic("#languages",a),menuAddCloseLogic("#languages","#languages ul")):a.css("visibility","hidden");var o,n=$('<div id="menu-opener"><img src="'+FRONTEND_CDN+'/designs/_shared/css/icons/icon-menu.svg" alt=""></div>');n.addClass("mobile-menu-opener"),$("#header").append(n),e?(menuAddOpenerLogic("#menu",n),menuAddCloseLogic("#menu","#menu > ul"),menuMakeFoldable("#menu")):n.css("visibility","hidden"),$("#top #title img").one("load",(function(){$(this).width()/$(this).height()<1.75&&$(this).addClass("tall")})).each((function(){this.complete&&void 0!==$(this).attr("src")&&$(this).trigger("load")})),document.fonts&&document.fonts.ready.then((function(){var e=0,t=$("#header").parent(),a=$("body").css("margin-top"),o=null,n="absolute"==$("#header").css("position");$(window).scroll((function(r){o||(o=$("#header").outerHeight()),window.scrollY>3&&e>window.scrollY?($("#header").addClass("floating").css("top",a),n||t.css("padding-top",o)):($("#header").removeClass("floating").css("top",0),t.css("padding-top","")),e=window.scrollY}))})),loadInlineSvg(".mobile-menu-opener img, .mobile-menu-closer img, .mobile-menu-arrow img"),$("#header").append($('<div id="mobile-menu-bar">').addClass("mobile-menu-opener"));var r=getDirectMenuBackground(),i=getDirectHeaderBackground();if(r||(o=getElementColor($("#menu > ul > li:not(.selected) > a"),"color")),!o){var s=getElementColor($("#title .mz_wysiwyg"));s||(s=getElementColor($("#title"))),s||(o=getElementColor($("#title .mz_wysiwyg"),"color")),$("#title").parents("#bigbar-overlay").length||i&&o&&(isGoodContrast(colorToHex(i),colorToHex(o))||(o=getColorLightness(colorToHex(o))<128?"#FFFFFF":"#222222"))}o||(o=getElementColor($("#languages li:not(.selected) > a"),"color")),o||(o="#222222");var l=getElementColor($("#menu > ul > li > a"),"color"),c=getElementColor($("#menu > ul > li.selected > a"),"color"),d=getElementColor($("#menu > ul > li.selected > a"));l||(l=getElementColor($("#languages ul > li > a"),"color"),c=getElementColor($("#languages ul > li.selected > a"),"color"),d=getElementColor($("#languages ul > li.selected > a")));var u=r;u||(u=i),u&&(u=colorToHex(u)),u||(u=getColorLightness(colorToHex(l))<128?"#FFFFFF":"#222222"),isGoodContrast(u,colorToHex(l))||(u="#FFFFFF",l="#8F8F8F",c="#222222",d="transparent");var m=".mobile-header #menu, .mobile-header #languages { background-color: "+u+"}.mobile-header #menu ul li a, .mobile-header #languages ul li a { color: "+l+" !important; background-color: transparent !important}.mobile-header #menu ul li.current-item > a, .mobile-header #languages ul li.selected > a { color: "+c+" !important}#menu .mobile-menu-closer svg *, #languages .mobile-menu-closer svg *, #menu .mobile-menu-arrow svg * { fill: "+l+"}.mobile-menu-opener svg * { fill: "+o+"}";(!i||getColorOpacity(i)<.5)&&(i=getColorLightness(colorToHex(o))<128?"#FFFFFF":"#222222",m=m+".mobile-header #header.floating #title .mz_wysiwyg { color: "+o+"}"),m=m+".mobile-header #header.floating { background-color: "+i+"}",d?m=(m=m+".mobile-header #menu ul li.current-item > a, .mobile-header #languages ul li.selected > a { background-color: "+d+" !important}")+".mobile-header #menu ul li.current-item svg *, .mobile-header #languages ul li.selected svg * { background-color: "+c+"}":l==c&&(m=m+".mobile-header #menu ul li.current-item > a, .mobile-header #languages ul li.selected > a { outline: 1px solid "+l+" !important}"),injectCssCode(m,"@media screen and (max-width:750px), screen and (max-height:500px)"),$("#menu li.selected").addClass("expanded"),$("body").addClass("mobile-header")}function initRegularShopCategories(){if($("#sidebar-wrap.sidebar-none").length){var e=$("#submenu ul li.selected ul");e.length?$("#submenu").append(e):(e=$("#submenu ul li ul li.selected")).length&&$("#submenu").append(e.parent())}else{var t=$(".mz_component.mz_catalogcategories ul");t.length&&(t.find("ul").hide(),t.find("li.selected").parents("ul").show(),t.find("li.selected").find("ul").show(),t.find("li ul").parent("li").addClass("dropdown").append($("<span>&rsaquo;</span>").click((function(){window.location=$(this).parent("li").children("a:first").attr("href")}))))}}function initMobileShopCategories(){var e,t=$(".mz_catalogcategories > ul"),a=!1;if(t.length&&($("#submenu > ul").length?$("#submenu > ul").replaceWith(t):$("#submenu").append(t),$(".mz_catalogcategories").remove(),a=!0),$("#submenu ul ul li.selected").parent().show(),$("#submenu > ul > li").length){var o=$("#submenu li.selected > a"),n="Menu";$("#menu li.selected > a").length&&(n=$("#menu li.selected > a").text()),o.length&&(n=o.text(),(o=o.parents("#submenu > ul > li:not(.selected)")).length&&(n=o.children("a").text()+" &gt; "+n));var r=FRONTEND_CDN+"/designs/_shared/css/icons/",i=$('<div id="submenu-opener"><span>'+n+'</span><img src="'+r+'icon-unfold.svg" alt=""></div>');$("#submenu").prepend(i),menuAddOpenerLogic("#submenu > ul",i),menuAddCloseLogic("#submenu > ul","#submenu > ul"),menuMakeFoldable("#submenu"),loadInlineSvg("#submenu img");var s=((e=getElementColor($("#submenu"),"background-color"))||(e=getElementColor($("#submenu").parents("#wrap"))),e||(e=getElementColor($("body"))),e||(e="#FFFFFF"),e),l=getElementColor($("#submenu ul li:not(.selected) > a"),"color"),c=getElementColor($("#submenu ul li.selected > a"),"color"),d=getElementColor($("#submenu ul li.selected > a"),"background-color");l&&s&&isGoodContrast(colorToHex(s),colorToHex(l))||(s="#FFFFFF",l="#8F8F8F",c="#222222",d="#FFFFFF"),$("#submenu-opener").css("border-color",l),$("#submenu-opener").css("color",l),$("#submenu-opener").css("fill",l);var u=".mobile-header #submenu ul { background-color: "+s+"}.mobile-header #submenu ul li a { color: "+l+"}.mobile-header #submenu ul li.selected > a { color: "+c+"}#submenu svg * { fill: "+l+"}";d?u=(u=u+".mobile-header #submenu ul li.selected > a { background-color: "+d+"}")+".mobile-header #submenu li.selected svg * { fill: "+c+"}":l==c&&(u=u+".mobile-header #submenu ul li.selected > a { outline: 1px solid "+l+"}"),injectCssCode(u,"@media screen and (max-width:750px), screen and (max-height:500px)"),a&&$("#submenu").show()}}function fixThumbnailImageLayout(e){var t=e.naturalHeight,a=e.naturalWidth;(e=$(e)).removeClass("portrait wider taller"),a<t&&e.addClass("portrait"),t/a<.66?e.addClass("wider"):t/a>1.5&&e.addClass("taller"),t/a>.8&&e.addClass("taller80")}function isExternalLinkOrImage(e){var t=new RegExp("(http|https)://[^.]+.[^.]+","g"),a=new RegExp("^(http|https)://(www.)?(mozello|youtube|facebook|twitter).[a-z]{2,3}(/|$)","g"),o=new RegExp("^(http|https)://site-[0-9]+.mozfiles.com","g");return!(!e.match(t)||e.match(a)||e.match(o))}function isExternalScript(e){if(void 0===e||""==e)return!1;var t=document.createElement("a"),a="";t.href=e,a=t.hostname;var o=new RegExp("(http|https)://[^.]+.[^.]+","g"),n=new RegExp("(mozello.com|mozfiles.com|MtFnNF4nenpk.net|youtube.com|facebook.com|twitter.com|googleapis.com)$","g");return void 0!==a&&""!=a&&(e.match(o)&&!a.match(n))}function receiveMessage(e){if(-1!=["http://mozello.local","http://www.mozello.com","https://www.mozello.com"].indexOf(e.origin)&&("highlight-links"==e.data&&($(".mz_editable img").each((function(){isExternalLinkOrImage($(this).attr("src").trim())&&$(this).css("border","4px dotted blue")})),$(".mz_editable a").each((function(){isExternalLinkOrImage($(this).attr("href").trim())&&($(this).css("border-bottom","4px dotted red"),$(this).find("img").css("border-bottom","4px dotted red"))}))),"detect-scripts"==e.data)){var t=!1;$("script, iframe").each((function(){var e=$(this).attr("src");if(isExternalScript(e)){if(console.log("External script detected: ",e),!t){var a=$("#guruEyesOnly");0==a.length?(a=$('<div id="guruEyesOnly">').html("Scripts detected.&nbsp;"),$("body").append(a)):a.html(a.html()+"<br>Scripts detected.&nbsp;")}t=!0}}))}}function initShopWidget(){$(".shopbar-search").click((function(){$("#cat-search-panel").show(),$("#shopbar-searchform .search-query").focus()})),$("#cat-search-panel").on("click keydown",(function(e){($(e.target).is("#cat-search-panel")||"Escape"===e.key)&&$("#cat-search-panel").hide()})),$("#cat-search-panel #shopbar-searchform .close-btn").click((function(e){$("#cat-search-panel").hide()})),loadInlineSvg("#shopbar img"),$("#shopbar").addClass("moze-button-large");var e=getElementColor($("#shopbar"),"background-color"),t=getElementColor($("#shopbar"),"color");if($("body").hasClass("mz_rtl"))var a=$("#shopbar").css("border-top-right-radius");else a=$("#shopbar").css("border-top-left-radius");$("#shopbar").removeClass("moze-button-large"),e&&t||(e="#000000",t="#FFFFFF"),$("#shopbar-searchform").css("border-radius",a),$("#shopbar").css("background-color",e),$("#shopbar .separator").css("background-color",t),$("#shopbar").css("color",t),$("#shopbar").css("fill",t),$("#shopbar").show()}function setSlidingPanelColors(e){if(!$("#sliding-panel-colors").length&&e){if(!isCssVariableSet("--color-background")){var t=getElementColor($(".container"),"background-color");t||(t=getElementColor($("#main"),"background-color")),t||(t=getElementColor($("#wrap"),"background-color")),t&&injectCssCode(".sliding-panel { background-color: "+t+" }",null,"sliding-panel-colors")}setCssVariable("--color-text",e),setCssVariable("--color-text-strong",e)}}function initShopSidecart(){var e=$("#shopbar-sidecart");menuAddOpenerLogic("#shopbar-sidecart",$(".shopbar-cart")),$("#shopbar-sidecart-close").on("click",(function(){e.hide().removeClass("visible")})),loadInlineSvg("#shopbar-sidecart .close");var t=$('<div class="mz_editable"></div>').appendTo("body");setSlidingPanelColors(getElementColor(t,"color")),t.remove()}function initCart(){var e=$('.mz_catalogcart[data-type="catalogcartside"] form.moze-form input[name^="cart_item_"]');void 0!==typeof mozCatItem&&"undefined"!=typeof mozCatItemVariants&&(mozCatItem.stock=mozCatItem.stock_total,mozCatItemVariants.forEach((function(e){e.stock=e.stock_total})),e.each((function(){var e=$(this).attr("data-id"),t=$(this).attr("data-variant-id"),a=$(this).val();mozCatItem.id==e&&(0==t&&null!==mozCatItem.stock?(mozCatItem.stock=mozCatItem.stock-a,toggleAddToCartButton(mozCatItem.stock>0)):t>0&&mozCatItemVariants.forEach((function(e){if(e.id==t&&null!==e.stock){e.stock=e.stock-a;var o=getSelectedVariant();o&&o.id==e.id&&toggleAddToCartButton(e.stock>0)}})))}))),"undefined"!=typeof mozCatItems&&($.each(mozCatItems,(function(e,t){mozCatItems[e].stock=mozCatItems[e].stock_total})),$.each(e,(function(e,t){var a=$(t).attr("data-id"),o=$(t).attr("data-variant-id"),n=$(t).val();$.each(mozCatItems,(function(e,t){if(a!=t.id||o>0)return!0;null!==t.stock&&(t.stock-=n,reinitMozCatalogCartActions())}))})));var t=function(e,t){new mozLive3({source:{name:"maincatalog",superglobal:1},action:"catalog-update-cart",parameters:e,response:{html:[{name:"maincatalogcartside",target:"#shopbar-sidecart-base"}]},errors:{maintenance:mozLocalization.erInMaintenanceMode},onComplete:function(){initCart(),"function"==typeof t&&t(),syncCartToLocalStorage()}})};$('form.moze-form input[name^="cart_item_"]').off().on("change",(function(){t({cat_item_id:$(this).attr("data-id"),cat_item_variant_id:$(this).attr("data-variant-id"),count:Math.max(1,Math.floor($(this).val()))}),syncCartToLocalStorage()})).on("keypress",(function(e){if(13==e.keyCode)return $("#moze-checkout-button").focus(),!1})),$("form.moze-form div.delete a").off().on("click",(function(){var e=$(this).parents("td.qty").find('input[name^="cart_item_"]'),t=e.attr("data-id"),a=e.attr("data-variant-id");new mozLive3({source:{name:"maincatalog",superglobal:1},action:"catalog-delete-from-cart",parameters:{cat_item_id:t,cat_item_variant_id:a},response:{html:[{name:"maincatalogcartside",target:"#shopbar-sidecart-base"}]},errors:{maintenance:mozLocalization.erInMaintenanceMode},onComplete:function(){initCart();var e=0;$("#shopbar-sidecart").find('input[name^="cart_item_"]').each((function(){e+=parseInt($(this).val())})),0==e&&$("#shopbar-sidecart").hide(),$(".moze-added-to-cart").removeClass("moze-added-to-cart"),$(".moze-added-to-cart-item").removeClass("moze-added-to-cart-item").html(mozLocalization.cmCatalogCartAdd),syncCartToLocalStorage(),reinitMozCatalogCartActions()}}),"undefined"!=typeof mozCatItem&&"undefined"!=typeof mozCatItemVariants&&(t>0&&0==a&&(mozCatItem.stock=mozCatItem.stock_total,toggleAddToCartButton(null===mozCatItem.stock||mozCatItem.stock>0)),t>0&&a>0&&mozCatItemVariants.forEach((function(e){e.id==a&&(e.stock=e.stock_total,getSelectedVariant().id==e.id&&toggleAddToCartButton(null===e.stock||e.stock>0))})))}));var a=null;$('form.moze-form input[name^="cart_item_"]').on("focusin",(function(){a=$(this)})),$("#moze-checkout-button").off().on("click",(function(e){var o=$(this);if(a)return e.preventDefault(),t({cat_item_id:a.attr("data-id"),cat_item_variant_id:a.attr("data-variant-id"),count:Math.max(1,Math.floor(a.val()))},(function(){window.location.href=o.attr("href")})),!1}));var o=0;$("#shopbar-sidecart").find('input[name^="cart_item_"]').each((function(){o+=parseInt($(this).val())})),$(".shopbar-cart span").html(o).toggle(o>0);var n=6==$(".mz_catalogsidecart").attr("data-page-type"),r=$(".mz_catalogsidecart").attr("data-catalog-layout"),i=$(".mz_catalog.cat-has-searchbox").length>0,s=$(".mz_catalogsidecart .shopbar-cart").length>0,l=n&&i;isMobileDevice()&&$("#shopicons").hide(),isMobileDevice()||(l=n&&i&&"top"==r),$(".shopbar-search").toggle(l),l&&$(".menu-icon.shopbar-search").css("display","flex"),$(".shopbar-cart").toggle(s),s&&$(".menu-icon.shopbar-cart").css("display","flex"),$("#shopbar .separator").toggle(l&&s)}function createUid(){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,(function(e){return(16*Math.random()|0).toString(16)}))}function isLocalStorageAvailable(){if("undefined"!=typeof localStorage)try{if(localStorage.setItem("featureTest","yes"),"yes"===localStorage.getItem("featureTest"))return localStorage.removeItem("featureTest"),!0}catch(e){}return!1}function setCartUID(e){$("div.mz_catalogcart").attr("data-cart-id",e),isLocalStorageAvailable()&&window.localStorage.setItem("mozCartID",e),new mozLive3({source:{name:"maincatalog",superglobal:1},action:"catalog-set-cart-uid",parameters:{cart_uid:e},response:{},errors:{},onComplete:function(){}})}function getSessionCartUID(){var e=$("div.mz_catalogcart").first().attr("data-cart-id");return void 0!==e&&""!==e&&e?e:""}function getLocalStorageCartUID(){if(isLocalStorageAvailable()){var e=window.localStorage.getItem("mozCartID");if(void 0!==e&&""!==e&&e)return e}return""}function clearLocalStorageCart(){isLocalStorageAvailable()&&(window.localStorage.removeItem("mozCart"),window.localStorage.removeItem("mozCartID"))}function setLocalStorageCart(e,t){isLocalStorageAvailable()&&(window.localStorage.setItem("mozCart",JSON.stringify(e)),window.localStorage.setItem("mozCartID",t))}function getLocalStorageCart(){if(isLocalStorageAvailable()){var e=window.localStorage.getItem("mozCart"),t=getLocalStorageCartUID();if(getSessionCartUID()==t&&null!=e)try{e=JSON.parse(e)}catch(t){e=[]}else e=[];return e}return[]}function getCartDataFromHtml(){var e=[];return $("#shopbar-sidecart form.moze-form input[name^='cart_item_']").each((function(){var t={id:$(this).attr("data-id"),text:$(this).attr("data-pref-title"),variant_id:$(this).attr("data-variant-id"),variant_text:$(this).attr("data-pref-variant"),count:$(this).val()};e.push(t)})),e}function syncCartToLocalStorage(){isLocalStorageAvailable()&&setLocalStorageCart(getCartDataFromHtml(),getSessionCartUID())}function syncLocalStorageToCart(){if(isLocalStorageAvailable()){var e=getSessionCartUID(),t=getLocalStorageCartUID(),a=getCartDataFromHtml(),o=getLocalStorageCart();e==t&&0==a.length&&o.length>0?new mozLive3({source:{name:"maincatalog",superglobal:1},action:"catalog-add-to-cart-multi",parameters:{cart:o,cart_uid:e},response:{callback:[function(e){var t=JSON.parse(e);t.is_valid_uid?$("#shopbar-sidecart-base").html(t.output):setCartUID(createUid())}]},errors:{},onComplete:function(){initCart(),$(".shopbar-cart").is(":visible")&&$(".shopbar-cart").first().trigger("click"),syncCartToLocalStorage()}}):new mozLive3({source:{name:"maincatalog",superglobal:1},action:"catalog-check-cart-uid",parameters:{cart_uid:e},response:{callback:[function(e){"invalid"==JSON.parse(e).result&&setCartUID(createUid())}]},errors:{},onComplete:function(){syncCartToLocalStorage()}})}}function initSearchbox(){function e(){var e=$(".moze-catalog-searchbox-form .search-query").val();""!=(e=$.trim(e))&&(window.location=$(".moze-catalog-searchbox-form").attr("action")+"params/search/"+encodeURIComponent(e.replace("/"," "))+"/")}function t(){var e=$(".moze-catalog-searchbox-sideform .search-query").val();""!=(e=$.trim(e))&&(window.location=$(".moze-catalog-searchbox-sideform").attr("action")+"params/search/"+encodeURIComponent(e.replace("/"," "))+"/")}$(".moze-catalog-searchbox-form, .moze-catalog-searchbox-sideform").submit((function(e){e.preventDefault()})),$(".moze-catalog-searchbox-form .search-query").keyup((function(t){13==t.keyCode&&e()})),$(".moze-catalog-searchbox-sideform .search-query").keyup((function(e){13==e.keyCode&&t()})),$(".moze-catalog-searchbox-form .search-btn").click((function(){e()})),$(".moze-catalog-searchbox-sideform .search-btn").click((function(){t()}))}function initFixedMenuColors(){var e=$("#top").hasClass("sticky"),t=$("body").hasClass("transparentnavi");e&&$("#top").removeClass("sticky"),t&&$("body").removeClass("transparentnavi");var a=getElementColor($("#menu > ul > li:not(.selected) > a"),"color");a||(a=getElementColor($("#menu > ul > li > a"),"color"));var o=getDirectMenuBackground();o||(o=getDirectHeaderBackground()),e&&$("#top").addClass("sticky"),t&&$("body").addClass("transparentnavi"),a&&(!o||getColorOpacity(o)<.5||!isGoodContrast(colorToHex(a),colorToHex(o)))?o=getColorLightness(colorToHex(a))<128?"#FFFFFF":"#222222":o&&(o=colorToHex(o)),injectCssCode("#top.sticky:not(.legacy-sticky-menu), #top.sticky.legacy-sticky-menu #menu { background-color: "+o+"}","@media screen and (min-width:751px) and (min-height:501px)","fixed-menu-colors")}function initFixedMenu(){function e(e){e.height()>50&&$("#top").addClass("resize-logo")}if($("body.backend #title").on("mousedown touchstart",(function(){$("#top").hasClass("sticky")&&window.scrollTo(0,0)})),$("#menu").length&&$("body").not(".mobile-header").length&&$("#menu").outerHeight()<75&&$("#header > #header-main > #menu, .legacy-sticky-menu, #header + #menubox").length){var t,a,o;initFixedMenuColors();var n="absolute"==$("#top").css("position"),r=$("body").hasClass("backend"),i=$("#top.legacy-sticky-menu").length;function s(){if(!$("#top").hasClass("sticky")){var e=$("#top").offset().top;t=e,a=e+$("#top").outerHeight(),o=$("#header").outerHeight()-$("#header").height();var r=$("body").hasClass("header-menu-centered")||$("body").hasClass("header-menu-down")||$("#top").hasClass("menu-wrapped"),s=!r&&$("#header-main").length&&$("#header-main").offset().top+1>=$("#header-side").offset().top+$("#header-side").outerHeight(),l=$("#header + #menubox").length;if($("#top").removeClass("is-fat"),$("#top").removeClass("is-semifat"),i)t=$("#menu").offset().top,a=$("#menu").outerHeight(!0);else if(l)$("#top").addClass("has-menubox"),t=e+$("#header").outerHeight();else if(r)$("#top").addClass("is-fat"),t=e+$("#header").height()-$("#menu").outerHeight(!0);else if(s)$("#top").addClass("is-semifat"),t=e+$("#header-side").outerHeight(!0);else if(n)t=e,a=0;else if($("#top").outerHeight()>200)return!1;return $("body").hasClass("transparentnavi")&&(a=0),$("#wrap #bigbar + #top").length&&(a=$("#top").outerHeight()),!0}}if(i&&$("#menu").after($('<div id="menu-placeholder"></div>')),r||$("#top #title img").on("load",(function(){e($(this))})).each((function(){this.complete&&void 0!==$(this).attr("src")&&$(this).trigger("load")})),!s())return;$(window).on("resize scroll",(function(){var l=$("#top").nextAll("div").first(),c=$(window).scrollTop(),d=$("#top").hasClass("sticky"),u=!1;if(l.length)if(c>t&&!isSmallScreen()){if(!d&&(s(),c<=t))return!0;$("#top").addClass("sticky"),i?$("#menu-placeholder").css("height",a):n||l.css("margin-top",a),r&&e($("#top #title img"))}else u=d,$("#top").removeClass("sticky"),l.css("margin-top",""),i&&$("#menu-placeholder").css("height","");c>t+o?$("#top").addClass("scrolled-deep"):$("#top").removeClass("scrolled-deep"),u&&s()})),$(window).scrollTop()>0&&$(window).trigger("scroll")}}function manageMenuWrapClasses(){if($("#menu").length&&$("#title").length){var e=$("#menu").offset().top+1>=$("#title").offset().top+$("#title").outerHeight();$("#top").toggleClass("menu-wrapped",e)}}function manageHeaderElementProportions(){if($("body").hasClass("header-menu-middle")&&$("#menu").length&&$("#title").length&&$(window).width()>=751){var e=$("#header-side").outerWidth()/$("#header").width()*100,t=$("#title .mz_logo").outerWidth()/$("#header").width()*100,a=100-(e=Math.max(e,t)+1),o=100-(t=100/a*e);$("#header-main").css("max-width",a+"%"),$("#title").css("width",t+"%"),$("#menu").css("width",o+"%")}else $("#header-main").css("max-width",""),$("#title").css("width",""),$("#menu").css("width","")}function initHeaderLayoutHelper(){$("body").hasClass("mobile-header")||(manageHeaderElementProportions(),manageMenuWrapClasses()),initHeaderResizeObserver()}function transparentHeaderPossible(){var e=$(".section.section-banner, #bigbar"),t=$(".mz_grid > .section").first();if(1!=t.length)return!1;var a=t.hasClass("section-bigimg")&&(t.hasClass("section-boxed")||t.hasClass("section-halved")||!t.hasClass("section-nobox"));return t.length&&!e.length&&!a}function calculateTopSectionSpacers(){var e=$("#top").outerHeight(),t=e;$("#top-spacer").css("height",e),$("#top-bottom-spacer").css("height",0);var a=$("#top-spacer").parent(".section-bigimg").outerHeight()||0,o=$("#top-spacer").parent(".section-bigimg").children(".container").children(".textbox").outerHeight()||0;a&&o&&(t=e/2,$("#top-spacer").css("height",t),$("#top-bottom-spacer").css("height",t),(a-o)/2<e&&(t+=e-(a-o)/2)>e&&(t=e));var n=e-t;$("#top-spacer").css("height",t),$("#top-bottom-spacer").css("height",n)}function enableTransparentHeader(){if($("body").hasClass("header-transparent")&&transparentHeaderPossible()){var e=$(".mz_grid > .section").first();$("body").addClass("transparentnavi"),$(window).trigger("resize"),(e=e.first()).hasClass("section-text-color-1")?$("#top").addClass("section-text-color-1"):$("#top").removeClass("section-text-color-1");var t=null;$("#top-spacer").length&&((t=e.find("#top-spacer")).length||($("#top-spacer").remove(),t=null));var a=null;$("#top-bottom-spacer").length&&((a=e.find("#top-bottom-spacer")).length||($("#top-bottom-spacer").remove(),a=null)),t||(t=$("<div>").attr("id","top-spacer"),e.prepend(t)),a||(a=$("<div>").attr("id","top-bottom-spacer"),e.append(a)),calculateTopSectionSpacers()}}function disableTransparentHeader(){$("#top").removeClass("section-text-color-1"),$("#top-spacer").remove(),$("#top-bottom-spacer").remove(),$("body").removeClass("transparentnavi")}$(document).ready((function(){isSmallTouchDevice()?(createMobileMenu(),initMobileShopCategories(),enableTransparentHeader()):(initRegularShopCategories(),enableCascadingMenuTouch(),document.fonts?document.fonts.ready.then((function(){initHeaderLayoutHelper(),initFixedMenu(),enableTransparentHeader()})):(initHeaderLayoutHelper(),initFixedMenu(),enableTransparentHeader()));var e=["thumbs","close"];if(void 0!==$.fancybox&&$(".mz_catalog a.fancy").fancybox({buttons:e}),!$("body").hasClass("backend")){void 0!==$.fancybox&&$("ul.moze-gallery.pictures li a").fancybox({buttons:e});var t=$("#bigbar-overlay:not(.persistent)");t.length&&""==$.trim(t.find(".moze-wysiwyg-editor:visible").text())&&t.css("background-color","transparent")}$('.mz_catalog .cat-thumb-pic img:not([data-type="no-product"])').one("load",(function(){fixThumbnailImageLayout(this)})).each((function(){this.complete&&void 0!==$(this).attr("src")&&$(this).trigger("load")}));var a=function(){var e=$(".moze-gallery-overlay").width(),t=parseInt($("body").css("font-size"));e=Math.min(.09*e,t),$(".moze-gallery-overlay").css("font-size",e)};a(),$(window).resize((function(){a()})),colorSchemeUpdated(),$("body").hasClass("backend")||function(){if($(".moze-maps").length>0){var e=$("body").attr("lang");e||(e="en"),t=e,$(".moze-maps").each((function(){initializeEmbedMap($(this),t)}))}var t}(),$("body").hasClass("backend")||$(".mz_banner").mozbannerplay({}),isIE()&&$(".bigbar-overlay-container").length&&$(".bigbar-overlay-container").css("height",$(".bigbar-overlay-container").outerHeight()),initCart(),initSearchbox(),initHeaderSideMenu(),loadSocialIcons(),initAccordionComponents()})),window.colorSchemeUpdated=colorSchemeUpdated,window.addEventListener&&window.addEventListener("message",receiveMessage,!1),$(document).ready((function(){if($(".mz_component.mz_catalog").length||$(".mz_component.mz_catalogsidecart").length){var e=getSessionCartUID(),t=getLocalStorageCartUID();""===e&&""===t&&setCartUID(createUid()),""!==e&&""===t&&setCartUID(e),""===e&&""!==t&&setCartUID(t),""!==e&&""!==t&&e!=t&&(clearLocalStorageCart(),setCartUID(e)),syncLocalStorageToCart()}}));var headerResizeObserver=null;function onSectionResized(){$("body").hasClass("transparentnavi")&&calculateTopSectionSpacers()}function onHeaderResized(){$("body").hasClass("transparentnavi")&&calculateTopSectionSpacers(),$("body").hasClass("mobile-header")||(manageMenuWrapClasses(),manageHeaderElementProportions())}function initHeaderResizeObserver(){"ResizeObserver"in window&&!headerResizeObserver&&(headerResizeObserver=new ResizeObserver(onHeaderResized).observe(document.querySelector("#top")))}function initHeaderSideMenu(){loadInlineSvg("#header-side .menu-icon img")}function loadSocialIcons(){["twitter","facebook","pinterest","linkedin","rss","draugiem","tiktok","instagram","youtube"].forEach((function(e,t){var a=$(".icon-"+e);if(a.length){var o=FRONTEND_CDN+"/designs/_shared/css/social-icons/"+e+".svg";jQuery.get(o,(function(e){var t=jQuery(e).find("svg");t=t.removeAttr("xmlns:a"),a.append(t)}),"xml")}}))}function initAccordionComponents(){function e(e,t){var a=$("<img>").attr("src",FRONTEND_CDN+t);return $("<span>").addClass("arrow").addClass(e).append(a)}var t=e("unfold","/designs/_shared/css/icons/icon-unfold.svg"),a=e("fold","/designs/_shared/css/icons/icon-fold.svg");$(".mz_accordion .subgrid-cell.one").append(t).append(a),loadInlineSvg(".mz_accordion .arrow img"),$(".mz_accordion .subgrid-cell.one").click((function(e){if(!$(e.target).closest(".mz_component[data-role]").length){var t=$(this).parents(".subgrid-row");t.length&&t.hasClass("expanded")?t.removeClass("expanded"):t.addClass("expanded")}}))}document.addEventListener("DOMContentLoaded",(function(){var e;if("IntersectionObserver"in window&&(e=document.querySelectorAll("body:not(.backend) .mz_grid .mz_wysiwyg.mz_editable .moze-wysiwyg-editor img, body:not(.backend) #sidebar .mz_wysiwyg.mz_editable .moze-wysiwyg-editor img, .mz_editable .moze-post-container img")).length>8){var t=new IntersectionObserver((function(e,a){e.forEach((function(e){if(e.isIntersecting){var a=e.target;a.complete&&0!==a.naturalHeight||(a.src=a.dataset.src,t.unobserve(a))}}))}));e.forEach((function(e){e.dataset.src=e.src,e.removeAttribute("src"),t.observe(e)}))}}));